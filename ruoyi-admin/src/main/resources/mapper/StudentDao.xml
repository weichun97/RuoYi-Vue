<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ruoyi.web.test.entity.dao.StudentDao">

	<select id="query" resultType="com.ruoyi.web.test.entity.vo.student.StudentQueryVO">
		select
		t1.student_id,
		t1.student_name,
		t1.student_age,
		t1.student_hobby,
		t1.student_sex,
		t1.student_status,
		t1.student_birthday,
		t1.create_time,
		t1.update_time,
		t1.delete_time,
		t1.create_by,
		t1.update_by,
		t1.delete_by
		from sys_student t1
		<where>
			<if test="queryParam.studentName != null  and queryParam.studentName.trim() != ''">
				and student_name like concat('%', #{queryParam.studentName}, '%')
			</if>
			<if test="queryParam.studentAge != null and queryParam.studentAge != 0">
				and student_age = #{queryParam.studentAge}
			</if>
			<if test="queryParam.studentHobby != null and queryParam.studentHobby.trim() != ''">
				and student_hobby = #{queryParam.studentHobby}
			</if>
			<if test="queryParam.studentSex != null and queryParam.studentSex.trim() != ''">
				and student_sex = #{queryParam.studentSex}
			</if>
			<if test="queryParam.studentStatus != null and queryParam.studentStatus.trim() != ''">
				and student_status = #{queryParam.studentStatus}
			</if>
			<if test="queryParam.studentBirthday != null ">
				and student_birthday = #{queryParam.studentBirthday}
			</if>
			<if test="queryParam.beginCreateTime != null">
				and create_time >= #{queryParam.beginCreateTime}
			</if>
			<if test="queryParam.endCreateTime != null">
				and create_time <![CDATA[ < ]]> DATE_ADD(#{queryParam.endCreateTime},INTERVAL 1 DAY)
			</if>
		</where>
		order by t1.student_id desc
	</select>
</mapper>